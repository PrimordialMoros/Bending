plugins {
    id("bending.publish")
}

version = apiVersion()

dependencies {
    api(libs.math.core)
    api(libs.tasker.core)
    compileOnlyApi(libs.adventure.api)
    compileOnly(libs.caffeine)
    testImplementation(libs.bundles.junit)
    testImplementation(libs.adventure.api)
    testRuntimeOnly(libs.junit.platform)
}

sourceSets {
    main {
        java.srcDir(projectDir.resolve("src").resolve("autogenerated").resolve("java"))
    }
}

tasks {
    register("printVersionStatus") {
        doLast {
            println("STATUS=${if (isSnapshot()) "snapshot" else "release"}")
        }
    }
    test {
        useJUnitPlatform()
    }
}
